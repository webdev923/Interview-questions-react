{"id":"como-puedo-inyectar-html-directamente-en-un-componente-de-react","level":1,"title":"¿Cómo puedo inyectar HTML directamente en un componente de React?","content":"<p>Una de las razones por las que se creó React es para evitar los ataques XSS (<em>Cross-Site Scripting</em>), impidiendo que un usuario pueda inyectar código HTML en la página.</p>\n<p>Por ello, React al intentar evaluar un string que contiene HTML lo escapa automáticamente. Por ejemplo, si intentamos renderizar el siguiente string:</p>\n<pre><code class=\"language-jsx\"><span class=\"token keyword\">const</span> html <span class=\"token operator\">=</span> <span class=\"token string\">\"&lt;h1>My title&lt;/h1>\"</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>html<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">}</span></code></pre>\n\n<p>Veremos que en lugar de renderizar el HTML, lo escapa:</p>\n<pre><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token entity named-entity\" title=\"&lt;\">&amp;lt;</span>h1<span class=\"token entity named-entity\" title=\"&gt;\">&amp;gt;</span>My title<span class=\"token entity named-entity\" title=\"&lt;\">&amp;lt;</span>/h1<span class=\"token entity named-entity\" title=\"&gt;\">&amp;gt;</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>\n\n<p>Sin embargo, hay ocasiones en las que es necesario inyectar HTML directamente en un componente. Ya sea por traducciones que tenemos, porque viene el HTML desde el servidor y ya viene saneado, o por un componente de terceros.</p>\n<p>Para ello, podemos usar la propiedad <code>dangerouslySetInnerHTML</code>:</p>\n<pre><code class=\"language-jsx\"><span class=\"token keyword\">const</span> html <span class=\"token operator\">=</span> <span class=\"token string\">\"&lt;h1>My title&lt;/h1>\"</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">dangerouslySetInnerHTML</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">__html</span><span class=\"token operator\">:</span> html <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token punctuation\">}</span></code></pre>\n\n<p>Ahora sí veremos el HTML renderizado:</p>\n<pre><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>My title<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>\n\n<p>Como ves, <strong>el nombre ya nos indica que es una propiedad peligrosa y que debemos usarla con cuidado.</strong> Intenta evitarla siempre que puedas y sólo recurre a ella cuando realmente no tengas otra opción.</p>\n<hr>\n"}
